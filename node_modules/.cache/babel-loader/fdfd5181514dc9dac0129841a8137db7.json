{"ast":null,"code":"var _jsxFileName = \"E:\\\\Study\\\\Cong_Nghe_Phan_Mem_Moi\\\\FrontEnd\\\\website-ban-sach\\\\src\\\\components\\\\frontend\\\\collections\\\\ViewProduct.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport { Link, useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ViewProduct(props) {\n  _s();\n  const history = useHistory();\n  const [loading, setLoading] = useState(true);\n  const [product, setProduct] = useState([]);\n  const [category, setCategory] = useState([]);\n  const productCount = product.length;\n  useEffect(() => {\n    let isMounted = true;\n    const product_slug = props.match.params.slug;\n    axios.get(`/api/fetchproducts/${product_slug}`).then(res => {\n      if (isMounted) {\n        if (res.data.status === 200) {\n          setProduct(res.data.product_data.product);\n          setCategory(res.data.product_data.category);\n          setLoading(false);\n        } else if (res.data.status === 400) {\n          swal(\"Warning\", res.data.message, \"\");\n        } else if (res.data.status === 404) {\n          history.push('/collections');\n          swal(\"Warning\", res.data.message, \"error\");\n        }\n      }\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, [props.match.params.slug, history]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Loading Products...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }, this);\n  } else {\n    var showProductList = '';\n    if (productCount) {\n      showProductList = product.map((item, idx) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/collections/${item.category.slug}/${item.slug}`,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `http://localhost:8000/${item.image}`,\n                className: \"w-100\",\n                alt: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/collections/${item.category.slug}/${item.slug}`,\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this);\n      });\n    } else {\n      showProductList = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"No Product Available for \", category.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-3 bg-warning\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: [\"Collections / \", category.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: showProductList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n_s(ViewProduct, \"jp4Esx7vF04esxukOLP4PNtabOs=\", false, function () {\n  return [useHistory];\n});\n_c = ViewProduct;\nexport default ViewProduct;\nvar _c;\n$RefreshReg$(_c, \"ViewProduct\");","map":{"version":3,"names":["React","useEffect","useState","axios","swal","Link","useHistory","ViewProduct","props","history","loading","setLoading","product","setProduct","category","setCategory","productCount","length","isMounted","product_slug","match","params","slug","get","then","res","data","status","product_data","message","push","showProductList","map","item","idx","image","name"],"sources":["E:/Study/Cong_Nghe_Phan_Mem_Moi/FrontEnd/website-ban-sach/src/components/frontend/collections/ViewProduct.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport { Link, useHistory } from 'react-router-dom';\n\nfunction ViewProduct(props)\n{\n    const history = useHistory();\n    const [loading, setLoading] = useState(true);\n    const [product, setProduct] = useState([]);\n    const [category, setCategory] = useState([]);\n\n    const productCount = product.length;\n\n    useEffect(() => {\n\n        let isMounted = true;\n\n        const product_slug = props.match.params.slug;\n        axios.get(`/api/fetchproducts/${product_slug}`).then(res=>{\n            if(isMounted)\n            {\n                if(res.data.status === 200)\n                {\n                    setProduct(res.data.product_data.product);\n                    setCategory(res.data.product_data.category);\n                    setLoading(false);\n                }\n                else if(res.data.status === 400)\n                {\n                    swal(\"Warning\",res.data.message,\"\");\n                }\n                else if(res.data.status === 404)\n                {\n                    history.push('/collections');\n                    swal(\"Warning\",res.data.message,\"error\");\n                }\n            }\n        });\n\n        return () => {\n            isMounted = false\n        };\n    }, [props.match.params.slug, history]);\n\n\n    if(loading)\n    {\n        return <h4>Loading Products...</h4>\n    }\n    else\n    {\n        var showProductList = '';\n        if(productCount)\n        {\n\n            showProductList = product.map( (item, idx) => {\n                return (\n                    <div className=\"col-md-3\" key={idx}>\n                        <div className=\"card\">\n                            <Link to={`/collections/${item.category.slug}/${item.slug}`}>\n                                <img src={`http://localhost:8000/${item.image}`} className=\"w-100\" alt={item.name} />\n                            </Link>\n                            <div className=\"card-body\">\n                                <Link to={`/collections/${item.category.slug}/${item.slug}`}>\n                                    <h5>{ item.name }</h5>\n                                </Link>\n                            </div>\n                        </div>\n                    </div>\n                )\n            });\n        }\n        else\n        {\n            showProductList = \n            <div className=\"col-md-12\">\n                <h4>No Product Available for {category.name}</h4>\n            </div>\n        }\n    }\n\n    return (\n        <div>\n            <div className=\"py-3 bg-warning\">\n               <div className=\"container\">\n                <h6>Collections / {category.name}</h6>\n               </div>\n            </div>\n\n            <div className=\"py-3\">\n               <div className=\"container\">\n                   <div className=\"row\">\n                       {showProductList}\n                   </div>\n               </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ViewProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}